<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

      <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" ></script>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- CSS -->
    <link href="css/main.css" rel="stylesheet">
	
  </head>
  <body>
    <!-- Page Body Here -->



		<div class="container">
        
            <!--input type="button" name="answer" value="Show Media" onclick="showDiv()" /-->


            
            
            <!--input type="button" name="answer" value="Community Rating" onclick="showDiv()" /-->
            

             
            




			<div class="row" style="margin-top:20px;">
                <div class="col-md-12 col-sm-12 listing-Card" id="filters">
                            <div class="title">
                            <h2>Filters</h2>
                            </div>
                        <div class="filters" id="addFilter">
                          <a class="btn btn-primary" onclick="addFilter()">Add Filter</a>
                        </div>
                        
                    <script>

                    /*Dynamically Add Filters*/
                    var nFilters = 1;
                    function addFilter(){  
                      nFilters++;
                      var button = '<div class="control-label" id="addFilter"><a class="btn btn-primary" onclick="addFilter()">Add Filter</a></div>';
                      var removeButton = document.getElementById("addFilter");
                      removeButton.parentNode.removeChild(removeButton);
                      var div = document.getElementById("filters");
                      var newGroup = document.createElement('div');
                      newGroup.innerHTML = ['<div class="form-group"><select class="filter selectedindex=-1">' +
                      '<option></option>' +
                      '<option class="numeric">Distance</option>' +
                      '<option class="numeric">Price</option>' +
                      '<option class="boolean">Basement?</option>' +
                      '<option class="numeric">Floor</option>' +
                      '<option class="numeric">Lease Length</option>' +
                      '<option class="boolean">Private?</option>' +
                      '<option class="text">Description</option></select>' +
                      '<select class="comparator_type">' +
                      '<option></option>' +
                      '<option class="numeric"><</option>'+
                      '<option class="numeric">></option>'+
                      '<option class="numeric">=</option>'+
                      '<option class="numeric">>=</option>'+
                      '<option class="numeric"><=</option>'+
                      '<option class="text">like</option>' +
                      '<option class="boolean">Yes</option>' +
                      '<option class="boolean">No</option>' +
                      '<option class="text">contains</option>' +
                      '</select>' +
                      '<div class="col-md-12"><input  type="text" class="form-control" id="filter-',nFilters,'" placeholder="ex) Price < $1000"></div>',button,'</div><div class="form-group"></div>'].join('');
                      div.insertBefore(newGroup, null);
                    }

                    <!-- JQuery for only displaying relevant comparators for selected filter type-->
                    $('body').on('click', 'div', function () {
                            $(".filter").on("change", (function () {
                                $(this).next(".comparator_type").children("option").css("display", "none");
                                $(this).next(".comparator_type").prop('selectedIndex', -1);
                                if ($(this).children("option:selected").hasClass("numeric")) {
                                    $(this).next(".comparator_type").children("option.numeric").css("display", "inline");
                                }
                                if ($(this).children("option:selected").hasClass("boolean")) {
                                    $(this).next(".comparator_type").children("option.boolean").css("display", "inline");
                                }
                                if ($(this).children("option:selected").hasClass("text")) {
                                    $(this).next(".comparator_type").children("option.text").css("display", "inline");
                                }
                            }));
                        });
                    </script>
                    </div>
            </div>
                                    
                    <p> Last updated: 11-19-2014 20:00:00</p> 
                    <div class = "ads" style="overflow:scroll;">
                    
                        <div class="listing-Card">
							<div class="row">
								<div class="col-md-4 col-sm-4">
									<img class="img-responsive img-rounded center-block" src="img/house.jpg">
								</div>
								<div class="col-md-8 col-sm-8 details">
                                    <ul>
                                        <li>House Description</li>
                                        <li>Location</li>
                                        <li>Price</li>
                                        <li>Commute Time</li>
                                    </ul>
                                    <div class="row">
                                        <div class="col-md-3 col-sm-3">
                                        
                                        <a href="JavaScript:showMedia();"><img class="icon img-responsive" src="img/photos-icon.png" value="Show Media" ></img></a>
                                        <h6>Media</h6>
                                        </div>
                                        <div class="col-md-3 col-sm-3">
                                       
                                        <a href="JavaScript:showReviews();"><img class="icon img-responsive" src="img/community-icon.jpg" value="Community Rating" onclick="showReviews();  closeMedia(); closeWalkscore();closeSafety(); "></a>
                                        <h6>Community</h6>
                                        </div>
                                        <div class="col-md-3 col-sm-3">
                                       
                                        <a href="JavaScript:showSafety();"><img class="icon img-responsive" src="img/safety.jpg" onclick="showSafety();  closeMedia(); closeReviews(); closeWalkscore();"></a>
                                        <h6>Safety</h6>
                                        </div>
                                        <div class="col-md-3 col-sm-3">
                                      
                                        <a href="JavaScript:showWalkscore();"><img class="icon img-responsive" src="img/walkscore.png" onclick="showWalkscore();  closeMedia(); closeSafety(); closeReviews();"></a>
                                        <h6>Walkscore</h6>
                                        </div>
                                    </div>
								</div>  
                            <span style="margin-left: 10px">Original Ad: </span><a>originaladlink.com/31421/421/4/213/4/31/43/25</a>
                            <a class="btn btn-primary" id ="messageButton"href="#messageForm" style="float:right; margin:10px;">Message</a>
                            
                        </div>
                    </div>  
                        
                                         
			</div>
    </div>
    
    <a class= "overlay" id ="messageForm"></a>  
                            <div class ="popup">
                                <div class = "media-type">
                                    <img src="img/email-icon.png" height = "50" width ="50" href="#textForm">
                                    <a class = "btn btn-primary" href="#textForm"> Send Email to "person" </a>
                                    <div></div>
                                    <img src="img/Skype-icon.png" height = "50" width ="50" href="#textForm">
                                    <img class = "profile" src="img/profile.png" height = "50" width ="50" href="#">
                                    <a class = "btn btn-primary" href="#textForm"> Send Skype Message to "person" </a>
                                    <div></div>
                                    <img src="img/Facebook-icon.png" height = "50" width ="50" href="#textForm">
                                    <img class = "profile" src="img/profile.png" height = "50" width ="50" href="#">
                                    <a class = "btn btn-primary" href="#textForm"> Send Facebook Message to "person" </a>
                                    <div></div>
                                    <img src="img/Google-Plus-icon.png" height = "50" width ="50" href="#textForm">
                                    <img class = "profile" src="img/profile.png" height = "50" width ="50" href="#">
                                    <a class = "btn btn-primary" href="#textForm"> Send Gmail to "person" </a>

                                    <a class = "close" href = "#close"></a>
                                </div>                                
							</div>
                            <a class= "overlay" id ="textForm"></a> 
                            
                                <div class ="popup">
                                <div class = "media-type">
                                    <form id ="messagePopup" name="sendMessage">
                                    <textArea name="message" placeholder="Prompt" class = "message" rows="3" cols="50"></textArea>
                                    <div></div>
                                    <a class = "btn btn-primary" href="#close"> Send Message </a>
                                    <a class = "close" href = "#close"></a>
                                    </form>  
                                </div>
                                </div>
                                
    <script type="text/javascript">
        function showMedia() {
            window.open('mediasidebar.html','media','height='+(screen.height-100)+',width=300,left='+(screen.width-300)+',top=10,resizable=no,scrollbars=no,toolbar=no,menubar=no,location=no,directories=no,status=yes')

        }
        function showReviews() {
            window.open(
		'ratingsidebar.html','reviews','height='+(screen.height-100)+',width=300,left='+(screen.width-300)+',top=10,resizable=no,scrollbars=no,toolbar=no,menubar=no,location=no,directories=no,status=yes')

        }
        function showSafety() {
            window.open(
		'safetysidebar.html','safety','height='+(screen.height-100)+',width=300,left='+(screen.width-300)+',top=10,resizable=no,scrollbars=no,toolbar=no,menubar=no,location=no,directories=no,status=yes')

        }
        function showWalkscore() {
            window.open(
		'walkscoresidebar.html','walkscore','height='+(screen.height-100)+',width=300,left='+(screen.width-300)+',top=10,resizable=no,scrollbars=no,toolbar=no,menubar=no,location=no,directories=no,status=yes')

        }

    </script>
    <!-- End of the page -->

  </body>
</html>
